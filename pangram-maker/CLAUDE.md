# パングラム作成エージェント専用ガイド

## 重要な注意事項

### 文字カウントの正確性
**ひらがなのカウント時は、基本46文字と濁音・半濁音を区別する。**

- 基本ひらがな46文字：あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわをん
- 濁音・半濁音を含む71文字：上記に加えて がぎぐげござじずぜぞだぢづでどばびぶべぼぱぴぷぺぽ
- カウント時は必ず両方の数値を報告する
- 「ひらがな○文字」と言う場合は、濁音・半濁音を含む総数を指す
- **パングラム判定**：濁音は清音化して46文字の完全性を確認

### 必須ドキュメント生成
**各試行では以下の5つのドキュメントを必ず生成する：**

1. **CLAUDE.md** - その試行の方針と戦略
2. **process.md** - 作成過程の詳細記録
3. **evaluate.md** - 成果物の評価（文字数の正確な再確認を含む）
4. **result.md** - 最終結果のまとめ
5. **lessons-learned.md** - 得られた知見

### 文字数カウントの厳格化
**評価フェーズで必ず文字数を再確認する：**

- ひらがな（濁音・半濁音含む）のみをカウント
- 句読点（。、）は除外
- スクリプトで正確に計測
- 間違いがあれば即座に修正

## 最重要命令

### 汎用的指示の自動反映
**汎用的な指示と判断したものは、自動的にCLAUDE.mdを更新する。**

- ユーザーの指示が汎用的・恒久的なルールの場合、即座にCLAUDE.mdに追加
- メタレベルの改善指示は最優先で反映
- 判断に迷った場合も、積極的に追加して後で調整

### 日本語評価の厳格化
**日本語としての評価を最も厳格に行う。**

- 文章として自然な日本語を追求
- 実在する単語・表現のみ使用
- 文法的正確性を最優先
- 意味の通る文章であること
- **完全パングラムでも意味が通らなければ価値なし**

### 文字完全性の確保
**すべての文字を含むことがパングラムの絶対条件。**

- ひらがな46文字（または濁点等含む71文字）の完全包含
- 文字チェックは必ずスクリプトで実施
- 不足文字の明確な報告
- 重複文字数の最小化を目指す

### Git管理の徹底
**作業の適切なタイミングでcommitとpushを行う。**

- 各tryの完了時に必ずcommit
- 重要な変更後は即座にcommit
- コミットメッセージは日本語で詳細に
- 定期的にpushして同期を保つ

## 重要な原則

### CLAUDE.mdの継続的更新
**このCLAUDE.mdは生きた文書として、常にアップデートする。**

- 新しい運用ルールは即座に反映
- 学習事項を継続的に追加
- プロジェクトの成長とともに進化

### ドキュメント管理原則
- 重複内容は自律的に統合
- 古い情報はold-docsへ移動
- 一貫した書式とスタイルを維持
- 定期的な整理整頓を実施

### フィードバックへの対応
**指摘があれば、常に即座に反映し、改善する。**

- ユーザーからの指摘は最優先で対応
- 誤りを認識したら即座に修正
- 改善内容は文書化して蓄積

### メソッドの厳守
**パングラム作成時は必ずドキュメント化されたメソッドに従う。**

- 必ず作成ガイドラインに沿って実施
- 各ステップを記録しながら進行
- 検証プロセスを省略しない

## プロジェクト概要
パングラム（pangram）は、アルファベット（日本語の場合はひらがな/カタカナ）のすべての文字を少なくとも1回ずつ含む文章です。

## パングラムの定義
- **通常のパングラム**：すべての文字を含む（重複可）
- **完全パングラム**：各文字を1回ずつのみ使用
- **対象文字**：ひらがな46文字（基本）または71文字（濁点等含む）

## 基本原則

### 1. 文字の完全性
- すべての対象文字を必ず含む
- 不足文字があれば失格
- 文字チェックは自動化

### 2. 文章の自然さ
- 日本語として意味が通る
- 文法的に正しい
- 不自然な造語を避ける

### 3. 効率性の追求
- 総文字数の最小化
- 重複文字の削減
- 完全パングラムへの挑戦

## 作成プロセス

### Step 1: 文字リストの準備
1. 対象文字セットの定義（46文字 or 71文字）
2. 使用済み文字のトラッキング
3. 残り文字の管理

### Step 2: 戦略的単語選択
1. 希少文字（ゐ、ゑ等）を含む単語から開始
2. 複数の未使用文字を含む単語を優先
3. 文法的に組み合わせ可能な単語を選択

### Step 3: 文章の構築
1. 選択した単語を文法的に正しく配置
2. 助詞や活用語尾で不足文字を補完
3. 意味の通る文章に調整

### Step 4: 検証と最適化
1. 全文字の包含をスクリプトで確認
2. 重複文字の削減を試みる
3. より自然な表現への改善

## パングラムの分類

### 1. 基本パングラム（46文字）
- 現代仮名遣いのひらがなのみ
- 最も一般的な形式

### 2. 拡張パングラム（71文字）
- 濁点・半濁点を含む
- より困難だが実用的

### 3. 歴史的パングラム
- 「ゐ」「ゑ」を含む
- いろは歌のような古典的形式

## 評価基準

### 必須条件
- すべての対象文字を含む
- **日本語として意味が通る**
- 文法的に正しい
- 実在する単語のみ使用

### 評価要素
- 総文字数の少なさ
- 文章の自然さ（最重要）
- 記憶のしやすさ
- 実用性（タイピング練習等）

### 評価の優先順位
1. **意味の通る日本語** > 2. 文字の完全性 > 3. 文字数の少なさ

## プロジェクト構造
```
pangram-maker/
├── outputs/
│   ├── try01/    # 各試行
│   └── generation-log-*.md
├── data/
│   └── pangrams/ # 作成したパングラム
├── src/
│   └── check_pangram.py # 検証スクリプト
└── docs/         # ドキュメント
```

## 既存の参考例

### 日本語
- **いろは歌**：歴史的な完全パングラム（47文字）
- 現代の例：様々な試みがあるが、自然な文章は困難

### 英語
- "The quick brown fox jumps over the lazy dog"（35文字）
- 最も有名で実用的なパングラム

## 使用ツール
- 文字チェックスクリプト（作成予定）
- 文字頻度分析ツール
- 最適化アルゴリズム

## 継続的改善
- すべての試行を記録
- 成功パターンの分析
- 評価基準の精緻化
- アルゴリズムの改良

---

*パングラム：すべての文字を含む、究極の文章への挑戦*